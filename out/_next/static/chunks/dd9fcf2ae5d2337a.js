(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,23261,e=>{"use strict";var s=e.i(43476),a=e.i(71645),t=e.i(18566),i=e.i(17927),c=e.i(26302),n=e.i(75254);let l=(0,n.default)("layout-dashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]),d=(0,n.default)("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]]),r=(0,n.default)("file-text",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]),o=(0,n.default)("chart-column",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),h=(0,n.default)("menu",[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]]);var m=e.i(37727),x=e.i(98919),j=e.i(92270);let p=(0,n.default)("house",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]]),u=(0,n.default)("sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]),v=(0,n.default)("moon",[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]]),y=(0,n.default)("send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]),b=(0,n.default)("building-2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]),g=(0,n.default)("folder-kanban",[["path",{d:"M4 20h16a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.93a2 2 0 0 1-1.66-.9l-.82-1.2A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13c0 1.1.9 2 2 2Z",key:"1fr9dc"}],["path",{d:"M8 10v4",key:"tgpxqk"}],["path",{d:"M12 10v2",key:"hh53o1"}],["path",{d:"M16 10v6",key:"1d6xys"}]]),k=()=>{let[e,t]=(0,a.useState)({totalUsers:0,totalAdmins:0,totalPosts:0,totalLikes:0,totalComments:0,recentUsers:[],recentPosts:[]}),[c,n]=(0,a.useState)(!0);return((0,a.useEffect)(()=>{(async()=>{try{let[e,s,a,c,n,l,d]=await Promise.all([i.supabase.from("profiles").select("*",{count:"exact",head:!0}),i.supabase.from("profiles").select("*",{count:"exact",head:!0}).eq("role","admin"),i.supabase.from("posts").select("*",{count:"exact",head:!0}),i.supabase.from("likes").select("*",{count:"exact",head:!0}),i.supabase.from("comments").select("*",{count:"exact",head:!0}),i.supabase.from("profiles").select("username, created_at").order("created_at",{ascending:!1}).limit(5),i.supabase.from("posts").select("title, created_at, user_id").order("created_at",{ascending:!1}).limit(5)]);t({totalUsers:e.count||0,totalAdmins:s.count||0,totalPosts:a.count||0,totalLikes:c.count||0,totalComments:n.count||0,recentUsers:l.data||[],recentPosts:d.data||[]})}catch(e){console.error("Error fetching stats:",e)}finally{n(!1)}})()},[]),c)?(0,s.jsxs)("div",{className:"content-section",children:[(0,s.jsx)("div",{className:"loading-spinner"}),(0,s.jsx)("p",{children:"Loading dashboard..."})]}):(0,s.jsxs)("div",{className:"content-section",children:[(0,s.jsxs)("div",{className:"section-header",children:[(0,s.jsx)("h1",{children:"Dashboard Overview"}),(0,s.jsx)("p",{children:"Monitor your platform's performance and user activity"})]}),(0,s.jsxs)("div",{className:"stats-grid",children:[(0,s.jsxs)("div",{className:"stat-card",children:[(0,s.jsx)("div",{className:"stat-icon users",children:(0,s.jsx)(d,{size:24})}),(0,s.jsxs)("div",{className:"stat-content",children:[(0,s.jsx)("h3",{children:"Total Users"}),(0,s.jsx)("p",{className:"stat-value",children:e.totalUsers})]})]}),(0,s.jsxs)("div",{className:"stat-card",children:[(0,s.jsx)("div",{className:"stat-icon admins",children:(0,s.jsx)(x.Shield,{size:24})}),(0,s.jsxs)("div",{className:"stat-content",children:[(0,s.jsx)("h3",{children:"Administrators"}),(0,s.jsx)("p",{className:"stat-value",children:e.totalAdmins})]})]}),(0,s.jsxs)("div",{className:"stat-card",children:[(0,s.jsx)("div",{className:"stat-icon posts",children:(0,s.jsx)(r,{size:24})}),(0,s.jsxs)("div",{className:"stat-content",children:[(0,s.jsx)("h3",{children:"Total Posts"}),(0,s.jsx)("p",{className:"stat-value",children:e.totalPosts})]})]}),(0,s.jsxs)("div",{className:"stat-card",children:[(0,s.jsx)("div",{className:"stat-icon likes",children:(0,s.jsx)(o,{size:24})}),(0,s.jsxs)("div",{className:"stat-content",children:[(0,s.jsx)("h3",{children:"Total Likes"}),(0,s.jsx)("p",{className:"stat-value",children:e.totalLikes})]})]}),(0,s.jsxs)("div",{className:"stat-card",children:[(0,s.jsx)("div",{className:"stat-icon comments",children:(0,s.jsx)(o,{size:24})}),(0,s.jsxs)("div",{className:"stat-content",children:[(0,s.jsx)("h3",{children:"Total Comments"}),(0,s.jsx)("p",{className:"stat-value",children:e.totalComments})]})]})]}),(0,s.jsxs)("div",{className:"dashboard-grid",children:[(0,s.jsxs)("div",{className:"recent-activity",children:[(0,s.jsx)("h2",{children:"Recent Users"}),(0,s.jsx)("div",{className:"activity-list",children:e.recentUsers.map((e,a)=>(0,s.jsxs)("div",{className:"activity-item",children:[(0,s.jsx)("div",{className:"activity-icon",children:(0,s.jsx)(d,{size:16})}),(0,s.jsxs)("div",{className:"activity-content",children:[(0,s.jsxs)("p",{children:[e.username," joined"]}),(0,s.jsx)("span",{children:new Date(e.created_at).toLocaleDateString()})]})]},a))})]}),(0,s.jsxs)("div",{className:"recent-activity",children:[(0,s.jsx)("h2",{children:"Recent Posts"}),(0,s.jsx)("div",{className:"activity-list",children:e.recentPosts.map((e,a)=>(0,s.jsxs)("div",{className:"activity-item",children:[(0,s.jsx)("div",{className:"activity-icon",children:(0,s.jsx)(r,{size:16})}),(0,s.jsxs)("div",{className:"activity-content",children:[(0,s.jsx)("p",{children:e.title}),(0,s.jsx)("span",{children:new Date(e.created_at).toLocaleDateString()})]})]},a))})]})]})]})},N=()=>(0,s.jsxs)("div",{className:"content-section",children:[(0,s.jsx)("h1",{children:"Create Post"}),(0,s.jsx)("p",{children:"Post creation functionality will be implemented here."})]}),f=()=>(0,s.jsxs)("div",{className:"content-section",children:[(0,s.jsx)("h1",{children:"Post Management"}),(0,s.jsx)("p",{children:"Post management functionality will be implemented here."})]}),M=()=>(0,s.jsxs)("div",{className:"content-section",children:[(0,s.jsx)("h1",{children:"Create Project"}),(0,s.jsx)("p",{children:"Project creation functionality will be implemented here."})]}),w=()=>(0,s.jsxs)("div",{className:"content-section",children:[(0,s.jsx)("h1",{children:"Manage Projects"}),(0,s.jsx)("p",{children:"Project management functionality will be implemented here."})]}),P=()=>(0,s.jsxs)("div",{className:"content-section",children:[(0,s.jsx)("h1",{children:"User Management"}),(0,s.jsx)("p",{children:"User management functionality will be implemented here."})]}),z=()=>(0,s.jsxs)("div",{className:"content-section",children:[(0,s.jsx)("h1",{children:"Contact Messages"}),(0,s.jsx)("p",{children:"Contact message management functionality will be implemented here."})]}),C=()=>(0,s.jsxs)("div",{className:"content-section",children:[(0,s.jsx)("h1",{children:"Email Subscriptions"}),(0,s.jsx)("p",{children:"Email subscription management functionality will be implemented here."})]}),S=()=>(0,s.jsxs)("div",{className:"content-section",children:[(0,s.jsx)("h1",{children:"Send Newsletter"}),(0,s.jsx)("p",{children:"Newsletter functionality will be implemented here."})]}),U=()=>{let[e,n]=(0,a.useState)("dashboard"),[o,U]=(0,a.useState)(!1),[L,q]=(0,a.useState)(null),[A,H]=(0,a.useState)(!0),T=(0,t.useRouter)(),{isDarkMode:_,toggleTheme:D}=(0,c.useTheme)(),F=async()=>{await i.supabase.auth.signOut(),T.push("/")};(0,a.useEffect)(()=>{(async()=>{let{data:{user:e}}=await i.supabase.auth.getUser();if(!e)return T.push("/");let{data:s}=await i.supabase.from("profiles").select("id, username, role, created_at, updated_at").eq("id",e.id).single();s&&"admin"===s.role?(q(s),H(!1)):T.push("/")})()},[]);let V=[{id:"dashboard",label:"Dashboard",icon:l},{id:"create-post",label:"Create Post",icon:r},{id:"posts",label:"Post Management",icon:r},{id:"create-project",label:"Create Project",icon:b},{id:"manage-projects",label:"Manage Projects",icon:g},{id:"users",label:"User Management",icon:d},{id:"contact-messages",label:"Contacts",icon:r},{id:"email-subscriptions",label:"Subscriptions",icon:d},{id:"send-newsletter",label:"Send Newsletter",icon:y},{id:"home",label:"Homepage",icon:p},{id:"blogpage",label:"Blogpage",icon:r}];return A?(0,s.jsxs)("div",{className:"admin-loading",children:[(0,s.jsx)("div",{className:"loading-spinner"}),(0,s.jsx)("p",{children:"Verifying admin access..."})]}):(0,s.jsxs)("div",{className:"admin-page",children:[(0,s.jsx)("button",{className:"mobile-menu-btn",onClick:()=>U(!o),children:o?(0,s.jsx)(m.X,{size:24}):(0,s.jsx)(h,{size:24})}),(0,s.jsxs)("aside",{className:`admin-sidebar ${o?"open":""} ${_?"dark":""}`,children:[(0,s.jsxs)("div",{className:"sidebar-header",children:[(0,s.jsx)(x.Shield,{size:32,className:"admin-icon"}),(0,s.jsx)("h2",{children:"Admin Panel"})]}),(0,s.jsx)("nav",{className:"sidebar-nav",children:V.map(a=>{let t=a.icon;return(0,s.jsxs)("button",{className:`nav-item ${e===a.id?"active":""}`,onClick:()=>{"home"===a.id?T.push("/"):"blogpage"===a.id?T.push("/blog"):n(a.id),U(!1)},children:[(0,s.jsx)(t,{size:20}),(0,s.jsx)("span",{children:a.label})]},a.id)})}),(0,s.jsxs)("div",{className:"sidebar-footer",children:[(0,s.jsxs)("p",{children:["Logged in as: ",L?.username]}),(0,s.jsxs)("div",{className:"sidebar-controls",children:[(0,s.jsx)("button",{className:"theme-toggle-btn",onClick:D,title:_?"Switch to Light Mode":"Switch to Dark Mode",style:{background:_?"rgba(255, 255, 255, 0.1)":"rgba(255, 255, 255, 0.9)",border:_?"1px solid rgba(255, 255, 255, 0.2)":"1px solid rgba(0, 123, 255, 0.2)",color:_?"#FFFFFF":"#4a5568"},children:_?(0,s.jsx)(u,{size:16}):(0,s.jsx)(v,{size:16})}),(0,s.jsxs)("button",{className:"logout-btn",onClick:F,children:[(0,s.jsx)(j.LogOut,{size:16}),"Logout"]})]})]})]}),(0,s.jsx)("main",{className:"admin-main",children:(0,s.jsx)("div",{className:"admin-content",children:(()=>{switch(e){case"dashboard":default:return(0,s.jsx)(k,{});case"create-post":return(0,s.jsx)(N,{});case"posts":return(0,s.jsx)(f,{});case"create-project":return(0,s.jsx)(M,{});case"manage-projects":return(0,s.jsx)(w,{});case"users":return(0,s.jsx)(P,{});case"contact-messages":return(0,s.jsx)(z,{});case"email-subscriptions":return(0,s.jsx)(C,{});case"send-newsletter":return(0,s.jsx)(S,{})}})()})})]})};function L(){return(0,s.jsx)(U,{})}e.s(["default",()=>L],23261)}]);